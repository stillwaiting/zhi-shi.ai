{"version":3,"sources":["TopicsTreeComponent.tsx","MarkdownParser.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["renderNodes","nodes","onNodeClicked","length","map","node","nodeIdx","href","onClick","e","preventDefault","title","children","className","readAllSharpsFromStart","s","sharps","pos","parseChunk","chunk","split","trim","body","slice","join","indexOf","startsWith","childrenStartAt","childrenStr","substr","childrenSharps","childChunks","shift","content","mdString","separator","chunks","App","useState","unsubmittedData","setUnsubmittedData","setNodes","topicsWidth","setTopicsWidth","history","useHistory","useEffect","fetch","then","response","text","parse","style","width","data-testid","push","backgroundColor","onChange","currentTarget","value","String","placeholder","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.b76dc865.chunk.js","sourcesContent":["import { getNodeText } from '@testing-library/dom';\nimport React, { useState } from 'react';\n\nimport parse, { MarkdownNode } from './MarkdownParser';\nimport './TopicsTreeComponent.scss';\n\ntype TopicsTreeComponent = {\n    nodes: MarkdownNode[],\n    onNodeClicked: (node: MarkdownNode) => any\n}\n\nconst renderNodes = (nodes: MarkdownNode[], onNodeClicked: (node: MarkdownNode) => any) => {\n    if (nodes.length == 0) {\n        return null;\n    }\n    return <ul>\n        {nodes.map((node, nodeIdx) => {\n            return <li key={`node${nodeIdx}`}>\n                <a href='#' onClick={(e) => {\n                    e.preventDefault();\n                    onNodeClicked(node);\n                }}>{node.title}</a> <br />\n                {renderNodes(node.children, onNodeClicked)}\n            </li>;\n        })}\n    </ul>;\n}\n\nexport default ({ nodes, onNodeClicked }: TopicsTreeComponent ) => {\n    return <div className=\"TopicsTreeComponent\">\n        {renderNodes(nodes, onNodeClicked)}\n    </div>;\n}","export interface MarkdownBody {\n    content: string;\n}\n\nexport interface MarkdownNode {\n    title: string;\n    body: MarkdownBody;\n    children: Array<MarkdownNode>;\n}\n\nfunction readAllSharpsFromStart(s: string) {\n    let sharps = \"\";\n    let pos = 0;\n    while (pos < s.length && s[pos] == '#') {\n        sharps += '#';\n        pos ++;\n    }\n    return sharps;\n}\n\nfunction parseChunk(chunk: string): MarkdownNode {\n    const split = (chunk.trim() + \"\\n\").split(\"\\n\");\n    const title = split[0];\n    const body = split.slice(1).join(\"\\n\").trim();\n\n    if (body.indexOf(\"\\n#\") >= 0 || body.startsWith(\"#\")) {\n        // has children, TODO\n        const childrenStartAt = body.indexOf(\"\\n#\");\n        const childrenStr = body.substr(childrenStartAt+1);\n        const childrenSharps = readAllSharpsFromStart(childrenStr);\n        const childChunks = (\"\\n\" + childrenStr).split(\"\\n\" + childrenSharps + \" \");\n        childChunks.shift();\n        return {\n            title: title.trim(),\n            body: {\n                content: body.substr(0, childrenStartAt).trim()\n            },\n            children: childChunks.map(parseChunk)\n        }\n    } else {\n        return {\n            title: title.trim(),\n            body: {\n                content: body.trim()\n            },\n            children: []\n        }\n    }\n}\n\n\nexport default (mdString: string): Array<MarkdownNode> => {\n    mdString = mdString.trim();\n\n    if (mdString.length == 0) {\n        return [];\n    }\n\n    if (mdString[0] != '#') {\n        throw \"must start with #\"\n    }\n\n    const separator = readAllSharpsFromStart(mdString);\n\n    const chunks = (\"\\n\" + mdString).split(\"\\n\" + separator + \" \");\n    chunks.shift();\n\n    return chunks.map(chunk => parseChunk(chunk))\n}","import React, { useState, useEffect } from 'react';\nimport logo from './logo.svg';\nimport './App.scss';\nimport SentenceComponent from './SentenceComponent'\nimport QuestionAnswerComponent from './QuestionAnswerComponent';\nimport TopicsTreeComponent from './TopicsTreeComponent';\nimport parse, { MarkdownNode } from './MarkdownParser';\nimport { BrowserRouter as Router, Route, Link, useHistory } from \"react-router-dom\";\n\n\nfunction App() {\n  const [unsubmittedData, setUnsubmittedData] = useState<string>(\"\");\n  const [nodes, setNodes] = useState<MarkdownNode[]>([]);\n  const [topicsWidth, setTopicsWidth] = useState<number>(300);\n  const history = useHistory();\n\n  useEffect(() => {\n      fetch('https://stoic-swirles-1788c6.netlify.app/RU.md').then(response => {\n        // console.log(response);\n        return response.text();\n      }).then(text => {\n        setNodes(parse(text));\n      });\n    },\n  []);\n\n  const onDataChange = (e: React.ChangeEvent<HTMLTextAreaElement>) => {\n    setUnsubmittedData(e.currentTarget.value);\n  }\n\n  const onSubmitClicked = () => {\n    setNodes(parse(unsubmittedData));\n  }\n\n  const onIncreseWidthClick = () => {\n    setTopicsWidth(topicsWidth + 50);\n  }\n\n  const onDecreaseWidthClick = () => {\n    setTopicsWidth(topicsWidth - 50);\n  }\n\n  return (\n    <div className=\"App\">\n      <div className=\"topics\" style={{width: topicsWidth + 'px' }} data-testid='menu-container'>\n\n        <a href='#' onClick={(e) => {\n          e.preventDefault();\n          onIncreseWidthClick();\n        }} data-testid='plus'>+ width</a> |\n\n        <a href='#' onClick={(e) => {\n          e.preventDefault();\n          onDecreaseWidthClick();\n        }} data-testid='minus'>- width</a> <br />\n\n        <TopicsTreeComponent nodes={nodes} onNodeClicked={(node) => {\n          history.push(\"/\" + node.title);\n        }} />\n      </div>\n\n      <div className=\"content\">Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus consequat molestie nibh ac venenatis. Sed vel vestibulum ante, viverra suscipit elit. Duis nec dapibus sem. Donec id neque feugiat, efficitur nisl vel, ornare sem. Aenean venenatis augue tellus, vitae congue neque vestibulum eu. Sed a iaculis neque. Curabitur tincidunt cursus sollicitudin. Duis finibus vulputate luctus. Nunc ut malesuada nulla. Donec feugiat ante eget viverra rhoncus. Integer cursus enim vitae aliquet suscipit. Cras nisi urna, maximus eget leo at, ornare pharetra purus. Curabitur iaculis orci sit amet lacus bibendum, sit amet ultrices justo lobortis. Vivamus tempor mattis eros, vitae gravida nisi finibus vitae. Phasellus in leo luctus, faucibus risus ut, pulvinar massa. Nulla vel ex fringilla, hendrerit tellus nec, tempor est.\n\nNam velit ante, placerat eget tincidunt eu, commodo vitae diam. Cras id euismod turpis, vitae condimentum est. Etiam ac porta lectus, vitae pulvinar tortor. Nunc aliquet est sit amet lorem fermentum iaculis. Morbi id nunc vitae nibh varius aliquet placerat mollis mauris. Etiam suscipit, ex eu tempus mattis, dui neque sollicitudin tellus, nec molestie nibh orci vitae justo. Sed et justo tortor. Nam placerat enim vitae felis semper, quis faucibus velit volutpat. Vestibulum dictum tincidunt mi. Morbi quis sem tincidunt, dignissim libero sed, interdum tellus. Mauris porttitor sem eget dignissim luctus. Duis eget leo porttitor est faucibus fringilla. Quisque eu bibendum lorem, nec aliquam lacus. Cras vel pharetra mi. Aenean et mattis nisi, et vestibulum quam.\n\nSed facilisis diam quis nisl <span style={{backgroundColor: 'green'}}>porta, et eleifend sem ornare. Maecenas quis dui risus. Vivamus euismod ultricies quam vitae congue. Nullam nisi arcu, posuere vitae tincidunt et, interdum non nunc. Vestibulum sed venenatis nunc. Aenean in lorem posuere, sodales quam sed, tempus eros. Aenean ac sollicitudin nunc. Nullam quis purus est. Maecenas at justo sit amet erat efficitur vestibulum. Mauris egestas feugiat maximus. Quisque sit amet felis dolor. Sed commodo vitae ipsum pretium ultricies. Duis efficitur sed nulla vel facilisis. Cras nec ligula libero.\n\nSed id aliquam nisl, vel cursus nibh. Praesent posuere est nisl. Aenean facilisis bibendum cursus. Aenean vulputate ligula in semper vehicula. Donec vitae cursus sapien, et facilisis libero. Suspendisse ut augue et eros feugiat dignissim. Sed imperdiet urna lacus, in ullamcorper mauris consectetur nec. Donec urna diam, porttitor id vestibulum non, mattis id justo. Integer ullamcorper velit sed tortor ultricies, ac semper sapien tempus.\n\nQuisque vitae sem nec nisi pellentesque commodo. Proin eget nunc nibh.</span> Fusce vel pretium neque. Cras mollis sem non molestie volutpat. Quisque a erat sollicitudin, feugiat purus eleifend, posuere nunc. Fusce consectetur nisl ut sem lobortis, ut pharetra odio commodo. Vestibulum porttitor luctus quam, eu porta lorem ullamcorper vel. Mauris quis cursus leo, nec semper sapien. Ut massa ante, elementum eget enim ut, pellentesque efficitur enim. Ut finibus tincidunt libero, non elementum erat. In suscipit aliquam tincidunt.</div>\n      <hr />\n      <textarea data-testid='textarea' onChange={onDataChange} value={String(unsubmittedData)} placeholder=\"Paste your data\"></textarea>\n      <hr />\n      <button data-testid='submit' onClick={onSubmitClicked}>Submit</button>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter as Router, Route, Link, useHistory } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}