(this["webpackJsonptraining-app2"]=this["webpackJsonptraining-app2"]||[]).push([[0],{43:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){},46:function(t,e,n){},60:function(t,e){},72:function(t,e,n){},73:function(t,e,n){},74:function(t,e,n){},75:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){},83:function(t,e,n){"use strict";n.r(e);var r=n(1),i=n.n(r),c=n(35),a=n.n(c),s=(n(43),n(5)),o=(n(44),n(45),function(t){return"object"===typeof t}),l=(n(46),i.a.createContext({currentNodeTitle:"",currentNodeAnchor:"",currentSelectedText:"",onLinkClicked:function(t){}})),u=n(11),d=n.n(u),h=n(0);function f(t,e,n){var r=t;return n.length>0&&(r=r.split(n.replaceAll("\n"," ").trim()).join('<span class="selected">'+n+"</span>")),r=(r=(r=(r=(r=(r=(r=r.split("**").map((function(t,e){return e%2==1?"<b>"+t+"</b>":t})).join("")).split("__").map((function(t,e){return e%2==1?"<b>"+t+"</b>":t})).join("")).split("_").map((function(t,e){return e%2==1?"<i>"+t+"</i>":t})).join("")).split("*").map((function(t,e){return e%2==1?"<i>"+t+"</i>":t})).join("")).replaceAll(/\[(.*?)\]\((.*?)\)/g,(function(t,e,n,r){return"<a href='"+n.split("#").join("|")+"'>"+e+"</a>"}))).replaceAll(new RegExp("\\[#"+e+"\\](.*?)\\[\\/\\]","g"),'<span class="highlight active">$1</span>(<a href=\'|'+e+"'>"+e+"</a>)")).replaceAll(/\[#(.*?)\](.*?)\[\/\]/g,"<span class=\"highlight highlight-$1\">$2</span>(<a href='|$1'>$1</a>)")}d.a.shim();var j=function(t){var e=t.data,n=Object(r.useContext)(l);return Object(h.jsx)("p",{className:"BodyTextParagraphComponent",dangerouslySetInnerHTML:{__html:f(e.text,n.currentNodeAnchor,n.currentSelectedText)},onClick:function(t){var e=t.target.closest("a");e&&(e.attributes[0].value.startsWith("#")||(t.preventDefault(),n.onLinkClicked(e.attributes[0].value)))}})},b=(n(72),function(t){var e=t.data;return Object(h.jsx)("ol",{start:parseInt(e.start),children:e.items.map((function(t,e){return Object(h.jsx)("li",{children:Object(h.jsx)(S,{body:t})},"li".concat(e))}))})}),p=(n(73),function(t){var e=t.data;return Object(h.jsx)("table",{className:"BodyTableComponent",children:Object(h.jsx)("tbody",{children:e.rows.map((function(t,e){return Object(h.jsx)("tr",{children:t.cells.map((function(t,e){return Object(h.jsx)("td",{colSpan:t.colSpan,rowSpan:t.rowSpan,children:Object(h.jsx)(S,{body:t.content})},"td".concat(e))}))},"tr".concat(e))}))})})}),x=(n(74),function(t){var e=t.data;return Object(h.jsx)("ul",{children:e.items.map((function(t,e){return Object(h.jsx)("li",{children:Object(h.jsx)(S,{body:t})},"li".concat(e))}))})}),m=n(38),v=(n(75),/(\(.+?\|.*?\))/g);function O(t){if(0===Math.random())return t;for(var e=t.length-1;e>0;e--){var n=Math.floor(Math.random()*(e+1)),r=[t[n],t[e]];t[e]=r[0],t[n]=r[1]}return t}var g=function(t){var e=t.onSubmit,n=t.question,i=Object(r.useState)((n.match(v)||[]).map((function(t){return Math.floor(Math.random()*t.split("|").length)}))),c=Object(s.a)(i,2),a=c[0],o=c[1],l=Object(r.useState)(!1),u=Object(s.a)(l,2),d=u[0],f=u[1],j=n.split(v)||[],b=function(t){return d?0==a[t]?"success":"error":""};return Object(h.jsxs)("div",{className:"BodyQuestionComponent",children:[Object(h.jsx)("div",{children:j.map((function(t,e){if(v.test(t)){var n=(i=t).substr(1,i.length-2).split("|"),r=j.slice(0,e).filter((function(t){return t.match(v)})).length;return[d?Object(h.jsxs)("span",{children:["(",r+1,")"]},"index".concat(e)):null,Object(h.jsx)("span",{children:Object(h.jsx)("select",{className:b(r),disabled:d,value:a[r],onChange:function(t){var e=Object(m.a)(a);e[r]=parseInt(t.target.value),o(e)},children:O(n.map((function(t,e){return Object(h.jsx)("option",{value:e,children:t},e)})))})},e)]}return Object(h.jsx)("span",{children:t},e);var i}))}),d?null:Object(h.jsx)("button",{className:"button",onClick:function(){f(!0),e(a)},children:"Submit"})]})},w=Object(h.jsx)("img",{className:"error",src:"https://images2.imgbox.com/29/91/c4KeBiML_o.png",width:"32"}),N=Object(h.jsx)("img",{className:"success",src:"https://images2.imgbox.com/7e/a3/Aiizr6oe_o.png",width:"32"});function C(t,e){return Object(h.jsx)("table",{children:Object(h.jsx)("tbody",{children:e.map((function(e,n){return Object(h.jsxs)("tr",{className:"answer",children:[Object(h.jsxs)("td",{children:["(",n+1,")"]}),Object(h.jsx)("td",{children:0==e?N:w}),Object(h.jsx)("td",{children:Object(h.jsx)(j,{data:t[n]})})]},"answer_"+n)}))})})}var T=function(t){var e=t.data,n=Object(r.useState)([]),i=Object(s.a)(n,2),c=i[0],a=i[1];return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:Object(h.jsx)(g,{question:e.question.text,onSubmit:function(t){return a(t)}})}),c.length>0?C(e.answers,c):null,Object(h.jsxs)("div",{style:{visibility:"hidden"},children:[w,N]})]})},S=function(t){var e=t.body;return Object(h.jsx)("div",{className:"BodyComponent",children:e.content.map((function(t,e){return o(n=t)&&n&&void 0!==n.text?Object(h.jsx)(j,{data:t},"content".concat(e)):function(t){return!(!o(t)||!t)&&void 0!==t.items&&void 0!==t.start}(t)?t.isOrdered?Object(h.jsx)(b,{data:t},"content".concat(e)):Object(h.jsx)(x,{data:t},"content".concat(e)):function(t){return!(!o(t)||!t)&&void 0!==t.rows}(t)?Object(h.jsx)(p,{data:t},"content".concat(e)):function(t){return!(!o(t)||!t)&&void 0!==t.question}(t)?Object(h.jsx)(T,{data:t},"content".concat(e)):void 0;var n}))})},y=(n(76),function t(e,n,r){return 0==e.length?null:Object(h.jsx)("ul",{children:e.map((function(e,i){return Object(h.jsxs)("li",{children:[Object(h.jsx)("a",{href:"#",onClick:function(t){t.preventDefault(),r(e)},className:e.title===n?"selectedNode":"plainNode",children:e.title})," ",Object(h.jsx)("br",{}),t(e.children,n,r)]},"node".concat(i))}))})}),k=function(t){var e=t.nodes,n=t.onNodeClicked,i=Object(r.useContext)(l);return Object(r.useEffect)((function(){var t=setTimeout((function(){var t=document.getElementsByClassName("selectedNode");if(t.length>0){var e=window.scrollY;t[0].scrollIntoView(),window.scrollTo({left:window.scrollX,top:e})}}),0);return function(){clearTimeout(t)}}),[i.currentNodeTitle]),Object(h.jsx)("div",{className:"TopicsTreeComponent",children:y(e,i.currentNodeTitle,n)})};function W(t){return t.trim().length>0&&"|"===t.trim()[0]}function I(t,e){var n=e;do{n++}while(n<t.length&&(t[n].trim().startsWith("|")||t[n].trim().startsWith("-")));return n}function A(t){if(t.startsWith("cols=")||t.startsWith("rows=")){var e=t.split("rows=",2);return parseInt(e[1])}return 1}function B(t){if(t.startsWith("cols=")||t.startsWith("rows=")){var e=t.split("cols=",2);return parseInt(e[1])}return 1}function L(t){if(t.startsWith("cols=")||t.startsWith("rows=")){var e=t.split("\n",2);if(e.length>1)return e[1]}return t}function D(t,e,n){for(var r=[],i={rows:[]},c=e;c<n;c++){var a=t[c].trim();if(a.startsWith("|-")||a.startsWith("| --")||a.startsWith("-"))i.rows.push({cells:r.map((function(t){return{rowSpan:A(t),colSpan:B(t),content:Y(L(t))}}))}),r=[];else{var s=a.split("|");if(s=s.slice(1),0==r.length)r=s.map((function(t){return t.trim()}));else for(var o=0;o<s.length;o++)o<r.length?r[o]+="\n"+s[o].trim():r.push(s[o].trim())}}return r.length>0&&i.rows.push({cells:r.map((function(t){return{rowSpan:A(t),colSpan:B(t),content:Y(L(t))}}))}),i}function M(t){return t.trim().length>0&&!$(t)&&!W(t)&&!U(t)}function _(t,e){var n=e;do{n+=1}while(n<t.length&&M(t[n]));return n}function E(t,e,n){for(var r={text:""},i=e;i<n;i++)0==r.text.length?r.text=t[i].trim():r.text+=" "+t[i].trim();return r}function q(t){return t===""+parseInt(t)}function F(t){var e=t.trim().split(". ");return 1!=e.length&&(1==e[0].length||!!q(e[0]))}function P(t){return t.trim().startsWith("- ")}function $(t){return F(t)||P(t)}function H(t){return F(t)?function(t){return t.split(". ",2)[0].length+2}(t):function(t){return t.split("- ",2)[0].length+2}(t)}function G(t){for(var e=0;e<t.length;e++)if(" "!==t[e])return e;return 0}function J(t){return t.trim().split(". ")[0]}function R(t,e){if(G(t)!=G(e))return!1;if(P(t)&&P(e))return t.trim()[0]==e.trim()[0];if(F(t)&&F(e)){var n=J(t),r=J(e);if(n.length==r.length)return!0;if(q(n)&&q(r))return!0}return!1}function z(t,e){var n=H(t[e]),r=e;do{r++}while(r<t.length&&(G(t[r])>=n||R(t[e],t[r])));return r}function K(t,e){return t.map((function(t){return t.substr(e)})).join("\n")}function Q(t,e,n){for(var r=F(t[e]),i=H(t[e]),c={isOrdered:r,start:r?J(t[e]):t[e].trim()[0],items:[]},a=[],s=e;s<n;s++)R(t[e],t[s])&&a.length>0&&(c.items.push(Y(K(a,i))),a=[]),a.push(t[s]);return a.length>0&&(c.items.push(Y(K(a,i))),a=[]),c}function U(t){return t.trim().startsWith("?")}function V(t,e){var n=e;do{n++}while(n<t.length&&(t[n].trim().startsWith("?")||t[n].trim().startsWith("!")));return n}function X(t,e,n){for(var r={question:{text:""},answers:[]},i=e;i<n;i++)i!=e?r.answers.push(E([t[i].trim().substr(1)],0,1)):r.question=E([t[i].trim().substr(1)],0,1);return r}function Y(t){for(var e={content:[]},n=t.trim().split("\n"),r=0;r<n.length;)if(M(n[r])){var i=_(n,r);e.content.push(E(n,r,i)),r=i}else if($(n[r])){var c=z(n,r);e.content.push(Q(n,r,c)),r=c}else if(W(n[r])){var a=I(n,r);e.content.push(D(n,r,a)),r=a}else if(U(n[r])){var s=V(n,r);e.content.push(X(n,r,s)),r=s}else r+=1;return e}var Z=Y;function tt(t){for(var e="",n=0;n<t.length&&"#"==t[n];)e+="#",n++;return e}function et(t,e){var n=(t.trim()+"\n").split("\n"),r=n[0],i=n.slice(1).join("\n").trim(),c=Object.assign([],e);if(c.push(r.trim()),i.indexOf("\n#")>=0||i.startsWith("#")){var a=i.indexOf("\n#"),s=i.substr(a+1),o=tt(s),l=("\n"+s).split("\n"+o+" ");l.shift();var u={title:r.trim(),path:c,body:Z(i.substr(0,a).trim()),children:l.map((function(t){return et(t,c)})),childrenByTitleIndex:{}};return u.childrenByTitleIndex=u.children.reduce((function(t,e,n){return t[e.title]=n,t}),{}),u}return{title:r.trim(),path:c,body:Z(i.trim()),children:[],childrenByTitleIndex:{}}}var nt=function(t,e){if(0==(t=t.trim()).length)return[];if("#"!=t[0])throw"must start with #";var n=tt(t),r=("\n"+t).split("\n"+n+" ");return r.shift(),r.map((function(t){return et(t,e)}))},rt=(n(77),function(t){var e=t.path,n=t.onTitleClicked;return Object(h.jsx)("div",{className:"NodeHeaderComponent","data-testid":"NodeHeaderComponent",children:e.map((function(t,e){return Object(h.jsxs)("span",{children:[Object(h.jsx)("span",{className:"separator",children:"/"}),Object(h.jsx)("a",{href:"#",onClick:function(e){e.preventDefault(),n(t)},children:t})]},"pathItem".concat(e))}))})}),it=n(2),ct=n(36),at=n.n(ct);function st(t){return encodeURI(t).replaceAll("/","%2F")}function ot(t,e){for(var n=0;n<t.length;n++){if(t[n].title===e)return t[n];var r=ot(t[n].children,e);if(r)return r}return null}d.a.shim();var lt=function(){var t=Object(r.useState)(""),e=Object(s.a)(t,2),n=e[0],i=e[1],c=Object(r.useState)([]),a=Object(s.a)(c,2),o=a[0],u=a[1],d=Object(r.useState)(300),f=Object(s.a)(d,2),j=f[0],b=f[1],p=Object(r.useState)(""),x=Object(s.a)(p,2),m=x[0],v=(x[1],Object(r.useState)(0)),O=Object(s.a)(v,2),g=O[0],w=O[1],N=Object(r.useState)(""),C=Object(s.a)(N,2),T=C[0],y=C[1],W=Object(it.f)(),I=Object(it.g)(),A=function(t){var e=t.substr(1).replaceAll("%2F","/"),n="";if(e.indexOf("|")>=0){var r=e.split("|");e=r[0],n=r[1]}return[e,n]}(I.pathname),B=Object(s.a)(A,2),L=B[0],D=B[1];console.log(I.pathname,L,D),Object(r.useEffect)((function(){var t=setInterval((function(){if(window.externalText&&window.externalText!==n&&(u(nt(window.externalText,[])),i(window.externalText)),window.externalNodeLine&&window.externalNodeTitle&&window.externalNodeLine!==g){var t=ot(o,window.externalNodeTitle);t&&(W.push(st(t.title)),w(window.externalNodeLine))}void 0!==window.externalSelectedText&&window.externalSelectedText!==T&&y(window.externalSelectedText)}),500);return function(){clearInterval(t)}}),[o,g,m,T,n]);var M=ot(o,L);return Object(h.jsx)(l.Provider,{value:{currentNodeTitle:L,currentNodeAnchor:D,currentSelectedText:T,onLinkClicked:function(t){W.push(function(t,e){if(t.startsWith("..")&&t.indexOf("|")>=0&&e.length>1){var n=t.split("|");return st(e[e.length-2])+"|"+st(n[1])}if(t.startsWith("|"))return st(e[e.length-1])+"|"+st(t.substr(1));if(".."===t)return st(e[e.length-2]);if(t.indexOf("|")>=0){var r=t.split("|");return st(r[0])+"|"+st(r[1])}return st(t)}(t,M?M.path:[]))}},children:Object(h.jsxs)("div",{className:"App",children:[Object(h.jsxs)("div",{className:"topics",style:{width:j+"px"},"data-testid":"menu-container",children:[Object(h.jsx)("a",{href:"#",onClick:function(t){t.preventDefault(),b(j+50)},"data-testid":"plus",children:"+ width"})," |",Object(h.jsx)("a",{href:"#",onClick:function(t){t.preventDefault(),b(j-50)},"data-testid":"minus",children:"- width"})," ",Object(h.jsx)("br",{}),Object(h.jsx)(k,{nodes:o,onNodeClicked:function(t){W.push(st(t.title))}})]}),Object(h.jsx)("div",{className:"content",children:M?Object(h.jsxs)("div",{children:[Object(h.jsx)(rt,{path:M.path,onTitleClicked:function(t){return W.push(st(t))}}),window.externalGotoEditor&&M?Object(h.jsx)("div",{children:Object(h.jsx)("a",{href:"#",onClick:function(t){t.preventDefault(),window.externalGotoEditor(M.title)},children:"goto"})}):null,L?Object(h.jsx)("div",{children:Object(h.jsx)("a",{href:"#",onClick:function(t){t.preventDefault(),at()(L+(D?"|"+D:""))},children:"copy link"})}):null,Object(h.jsx)(S,{body:M.body})]}):"Not selected"}),Object(h.jsx)("hr",{}),Object(h.jsx)("textarea",{"data-testid":"textarea",onChange:function(t){i(t.currentTarget.value)},value:String(n),placeholder:"Paste your data"}),Object(h.jsx)("hr",{}),Object(h.jsx)("button",{"data-testid":"submit",onClick:function(){u(nt(n,[]))},children:"Submit"})]})})},ut=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,84)).then((function(e){var n=e.getCLS,r=e.getFID,i=e.getFCP,c=e.getLCP,a=e.getTTFB;n(t),r(t),i(t),c(t),a(t)}))},dt=n(18);a.a.render(Object(h.jsx)(i.a.StrictMode,{children:Object(h.jsx)(dt.a,{children:Object(h.jsx)(it.c,{children:Object(h.jsx)(it.a,{children:Object(h.jsx)(lt,{})})})})}),document.getElementById("root")),ut()}},[[83,1,2]]]);
//# sourceMappingURL=main.ceacf256.chunk.js.map